var panelToBin,binToPt,ptToRam,ramToBtn,titleText,button,wires=[],root=[],rootarrows=[],leaves=[],deadleaves=[],boxes=[],selected=null,bin=[],working=!1,cleared=!0;const links=[null,null,null,null,null,null,null,null,null,null,null,null,"https://drive.google.com/file/d/15S1GqXYiX2NvqZHmTTthmg-zz3N9x9bn/view?usp=sharing","https://docs.google.com/presentation/d/1TprU2fAO7oN7DUTIo0QmkkayFbtWgxKD/edit?usp=drive_link&ouid=111286804536634067860&rtpof=true&sd=true","https://drive.google.com/file/d/1es2626PmHj-pbv6g2nz39xA_Ijokf3l7/view?usp=drive_link","https://drive.google.com/file/d/1yJKm7ZjyLBTjZZg6QgsH_M8QCGMNgT0X/view?usp=sharing"];function init(){panelToBin=document.getElementById("paneltobin"),binToPt=document.getElementById("bintopt"),ptToRam=document.getElementById("pttoram"),ramToBtn=document.getElementById("ramtobtn"),button=document.getElementById("btn"),titleText=document.getElementById("recslides");for(var e=1;e<=16;e++)wires[e-1]=document.getElementById("op"+e+"wire"),boxes[e-1]=document.getElementById("op"+e+"box"),leaves[e-1]=document.getElementById("leaf"+Math.floor((e-1)/4)+(e-1)%4),deadleaves[e-1]=document.getElementById("leaf"+Math.floor((e-1)/4)+(e-1)%4+"dead");for(e=0;e<4;e++)root[e]=document.getElementById("root"+e),rootarrows[e]=document.getElementById("rootarr"+e),bin[e]=document.getElementById("bin"+e);flickerOff()}const sleep=e=>new Promise((t=>setTimeout(t,e)));async function boxclick(e){if(!working)if(working=!0,null==selected||selected!=e)boxes[e].classList.add("selected"),wires[e].style.display="inline",null!=selected?(boxes[selected].classList.remove("selected"),wires[selected].style.display="none"):panelToBin.style.display="inline",updateBin(e),null==selected?await sleep(1e3):await sleep(200),selected=e,updateDisplay(e);else{boxes[e].classList.remove("selected"),wires[e].style.display="none",panelToBin.style.display="none",selected=null,bin[0].innerHTML="n",bin[1].innerHTML="u",bin[2].innerHTML="l",bin[3].innerHTML="l",button.style.display="none",binToPt.style.display="none",await sleep(200);for(var t=0;t<4;t++)root[t].style.display="none",rootarrows[t].style.display="none";await sleep(200);for(t=0;t<16;t++)leaves[t].style.display="none",deadleaves[t].style.display="none";await sleep(200),ptToRam.style.display="none",await sleep(200),ramToBtn.style.display="none",working=!1,cleared=!0}}async function updateDisplay(e){if(!cleared){button.style.display="none",binToPt.style.display="none",await sleep(200);for(var t=0;t<4;t++)root[t].style.display="none",rootarrows[t].style.display="none";await sleep(200);for(t=0;t<16;t++)leaves[t].style.display="none",deadleaves[t].style.display="none";await sleep(200),ptToRam.style.display="none",await sleep(200),ramToBtn.style.display="none"}await sleep(200),binToPt.style.display="inline";var l=num>>2,n=4*l+(3&num);await sleep(200);for(t=0;t<4;t++)t==l?(root[t].style.display="inline",rootarrows[t].style.display="inline"):(root[t].style.display="none",rootarrows[t].style.display="none");if(await sleep(200),null==links[e])for(t=0;t<16;t++)deadleaves[t].style.display=t==n?"inline":"none";else{for(t=0;t<16;t++)leaves[t].style.display=t==n?"inline":"none";await sleep(200),ptToRam.style.display="inline",await sleep(200),ramToBtn.style.display="inline",await sleep(200),button.style.display="inline",button.href=links[e]}working=!1,cleared=!1}var max=1e3;function textClick(){(max*=.7)<50&&(gif=document.createElement("img"),gif.classList.add("explode"),gif.src="./explosion.gif",document.getElementById("container").appendChild(gif),max=1e3,setTimeout((()=>{gif.remove()}),300))}async function updateBin(e){num=15-e;for(var t=0,l=0;l<4;l++){t=l;for(var n=0;n<20;n++)bin[t].innerHTML=Math.floor(9*Math.random()),4==++t&&(t=l),await sleep(10);bit=(num>>>0).toString(2).padStart(4,"0").charAt(l),bin[l].innerHTML=bit}}function flickerOff(){titleText.style.color="green",setTimeout((()=>{flickerOn()}),Math.floor(Math.random()*max))}function flickerOn(){titleText.style.color="#2fff00",setTimeout((()=>{flickerOff()}),Math.floor(Math.random()*max))}