<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
     <head>
          <meta charset="utf-8">
          <meta http-equiv="X-UA-Compatible" content="IE=edge">
          <title>Proj 1 SSH Setup</title>
          <meta name="description" content="">
          <meta name="viewport" content="width=device-width, initial-scale=1">
     </head>
     <body>
          <!--[if lt IE 7]>
               <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
          <![endif]-->
          <h1>Tinycore Linux SSH setup</h1>
          <ul>
               <li>
                    <p>Download <a href="/ssh_script.sh" download>this script</a> and get it into your virtual machine via scp, as described in the project PDF</p>
               </li>
               <li>
                    <p>Run '<code>chmod +x ssh_script.sh</code>' to give it execute permissions</p>
               </li>
               <li>
                    <p>Run the script with '<code>./ssh_script.sh</code>' (this will shutdown your virtual machine, and set the 'tc' user's password to "password123")</p>
               </li>
               <li>
                    <p>Before starting the VM back up, we need to forward the VM's port 22 to a different port on the host machine. We'll use 22022</p>
                    <p>Add the following to your start script (start.bat if you're on windows, start.sh on unix/mac):</p>
                    <code>-nic user,hostfwd=tcp::22022-:22</code>
                    <p>Make sure to properly escape the newline with a '\' on unix or a '^' on windows</p>
                    <p>So, for example, your whole file on unix/mac will look like this:</p>
                    <code>#!/bin/sh <br>
                         qemu-system-arm -kernel zImage -cpu arm1176 -m 256 -M versatilepb -no-reboot \<br>
                         -serial stdio -initrd piCore.gz -append \<br>
                         "root=/dev/ram0 elevator=deadline rootwait quiet nozswap nortc noswap tce=sda1 home=sda1" \<br>
                         -hda disk.qcow2 \<br>
                         -nic user,hostfwd=tcp::22022-:22
                         </code>
               </li>
               <li>
                    <p>Run your new start script.</p>
                    <p>Now, you can ssh into your VM with:</p>
                    <code>ssh tc@localhost -p 22022</code> (Password "password123")
                    <p>Or, move a file in your VM's home folder named 'library.c' to your current directory on your local with:</p>
                    <code>scp -P 22022 tc@localhost:library.c .</code> (Note that dot at the end, password also "password123")
               </li>
          </ul>
     </body>
</html>