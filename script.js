function getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}function convertRemToPixels(e){return e*parseFloat(getComputedStyle(document.documentElement).fontSize)}var num=1;function cloneGif(){for(var e=0;e<num;e++){var t=document.createElement("img");t.src="./gif.gif",t.classList.add("clone"),t.onclick=function(){cloneGif()},t.style.left=Math.floor(Math.random()*(getWidth()-convertRemToPixels(6)))+"px",t.style.top=Math.floor(Math.random()*(getHeight()-convertRemToPixels(6)))+"px",document.body.appendChild(t)}num*=2}var render,leftBound,rightBound,topBound,bottomBound,prevW,prevH,banner,spawner,runner,deathBox,Engine=Matter.Engine,Render=Matter.Render,Runner=Matter.Runner,Bodies=Matter.Bodies,Composite=Matter.Composite,Bounds=Matter.Bounds,Vertices=Matter.Vertices,Body=Matter.Body,engine=Engine.create();function init(){banner=document.getElementById("banner"),spawner=document.getElementById("spawner");var e=getWidth();prevW=getWidth();var t=banner.getBoundingClientRect().height;prevH=banner.getBoundingClientRect().height,render=Render.create({element:document.body,engine:engine,options:{width:e,height:t,wireframes:!1,background:"transparent",wireframeBackground:"transparent"}}),topBound=Bodies.rectangle(e/2,-25,e,50,{isStatic:!0,render:{fillStyle:"transparent"}}),bottomBound=Bodies.rectangle(e/2,t+25,e,50,{isStatic:!0,render:{fillStyle:"transparent"}}),deathBox=Bodies.rectangle(e/2,t+50,e,50,{isSensor:!0,isStatic:!0,render:{fillStyle:"transparent"}}),leftBound=Bodies.rectangle(-25,t/2,50,t,{isStatic:!0,render:{fillStyle:"transparent"}}),rightBound=Bodies.rectangle(e+25,t/2,50,t,{isStatic:!0,render:{fillStyle:"transparent"}}),Composite.add(engine.world,[leftBound,rightBound,topBound,bottomBound,deathBox]),Render.run(render),runner=Runner.create(),Runner.run(runner,engine)}let colors=["darkblue","blueviolet","cadetblue","darkorchid","indigo"];var interval;function spawn(){interval=setInterval((function(){var e=banner.getBoundingClientRect().width,t=spawner.getBoundingClientRect(),n=Math.random()>=.999?200:40,o=Bodies.rectangle(e/2,t.top+window.scrollY-convertRemToPixels(11)+t.height/2,n,n,{render:{fillStyle:colors[Math.floor(Math.random()*colors.length)]},collisionFilter:{mask:1}});Composite.add(engine.world,o),Body.setVelocity(o,{x:(5*Math.random()+10)*(Math.random()>.5?1:-1),y:20*Math.random()-15}),Body.setAngularSpeed(o,2*Math.random()-1)}),100)}function kill(){clearInterval(interval)}var trapdoor=!1;function trap(){trapdoor||(trapdoor=!0,bottomBound.collisionFilter.category=2,setTimeout((function(){bottomBound.collisionFilter.category=1,trapdoor=!1}),1500))}window.onresize=function(){Render.setSize(render,getWidth(),banner.getBoundingClientRect().height);var e=banner.getBoundingClientRect().width,t=banner.getBoundingClientRect().height;Body.scale(topBound,e/prevW,1),Body.scale(bottomBound,e/prevW,1),Body.scale(deathBox,e/prevW,1),Body.scale(leftBound,1,t/prevH),Body.scale(rightBound,1,t/prevH),Body.setPosition(topBound,{x:e/2,y:-25}),Body.setPosition(bottomBound,{x:e/2,y:t+25}),Body.setPosition(deathBox,{x:e/2,y:t+50}),Body.setPosition(leftBound,{x:-25,y:t/2}),Body.setPosition(rightBound,{x:e+25,y:t/2}),prevW=e,prevH=t},Matter.Events.on(engine,"collisionEnd",(e=>{e.pairs.forEach((({bodyA:e,bodyB:t})=>{t!==deathBox&&e===deathBox&&Matter.Composite.remove(engine.world,t)}))}));